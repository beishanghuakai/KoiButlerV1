import{_ as A}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css               *//* empty css                  *//* empty css                  *//* empty css               *//* empty css                */import{a4 as D,a5 as I,r as T,d as N,o as V,e as $,f as e,g as t,w as s,a6 as O,a7 as R,a8 as j,Y as q,T as n,z as w,t as l,a9 as M,aa as Y,k as g,l as z,ab as F,ac as G,ad as H,s as _,ae as J,af as K,q as L,i as P,j as f}from"./index-Bf3lHhEM.js";import{u as Q}from"./account-B7d52lTG.js";import{u as U}from"./order-CdwFPHR-.js";const W={get:()=>D.get("/status").then(i=>i.data)},X=I("status",()=>{const i=T({activeCount:0,messageCount:0}),c=T(!1);async function d(){c.value=!0;try{i.value=await W.get()}finally{c.value=!1}}return{status:i,loading:c,fetchStatus:d}}),Z={class:"dashboard"},tt={class:"stat-content"},st={class:"stat-icon",style:{background:"#e6f7ff"}},et={class:"stat-info"},at={class:"stat-value"},ot={class:"stat-content"},nt={class:"stat-icon",style:{background:"#fff7e6"}},lt={class:"stat-info"},dt={class:"stat-value"},it={class:"stat-content"},ct={class:"stat-icon",style:{background:"#f6ffed"}},rt={class:"stat-info"},ut={class:"stat-value"},_t={class:"card-header"},ft={class:"account-item"},mt={class:"account-info"},pt={class:"account-name"},vt={class:"account-id"},ht={class:"card-header"},gt={class:"order-item"},yt={class:"order-title"},kt={class:"order-meta"},bt={class:"order-price"},Ct={class:"order-time"},Et=N({__name:"Dashboard",setup(i){const c=P(),d=Q(),m=U(),k=X();V(()=>{d.fetchAccounts(),m.fetchOrders({limit:5}),k.fetchStatus()});function p(b){c.push(b)}return(b,a)=>{const v=q,r=j,u=R,C=O,E=L,B=H,h=G,y=J,x=F,S=K;return f(),$("div",Z,[a[13]||(a[13]=e("h2",{class:"page-title"},"仪表盘",-1)),t(C,{gutter:20,class:"stats-row"},{default:s(()=>[t(u,{xs:24,sm:8},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card",onClick:a[0]||(a[0]=o=>p("/accounts"))},{default:s(()=>[e("div",tt,[e("div",st,[t(v,{size:24,color:"#1890ff"},{default:s(()=>[t(n(w))]),_:1})]),e("div",et,[e("div",at,l(n(d).accounts.length),1),a[4]||(a[4]=e("div",{class:"stat-label"},"账号总数",-1))])])]),_:1})]),_:1}),t(u,{xs:24,sm:8},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card",onClick:a[1]||(a[1]=o=>p("/orders"))},{default:s(()=>[e("div",ot,[e("div",nt,[t(v,{size:24,color:"#fa8c16"},{default:s(()=>[t(n(M))]),_:1})]),e("div",lt,[e("div",dt,l(n(m).orders.length),1),a[5]||(a[5]=e("div",{class:"stat-label"},"订单数量",-1))])])]),_:1})]),_:1}),t(u,{xs:24,sm:8},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card"},{default:s(()=>[e("div",it,[e("div",ct,[t(v,{size:24,color:"#52c41a"},{default:s(()=>[t(n(Y))]),_:1})]),e("div",rt,[e("div",ut,l(n(k).status.activeCount),1),a[6]||(a[6]=e("div",{class:"stat-label"},"活跃连接",-1))])])]),_:1})]),_:1})]),_:1}),t(C,{gutter:20,class:"content-row"},{default:s(()=>[t(u,{xs:24,lg:12},{default:s(()=>[t(r,null,{header:s(()=>[e("div",_t,[a[8]||(a[8]=e("span",null,"账号状态",-1)),t(E,{type:"primary",link:"",onClick:a[2]||(a[2]=o=>p("/accounts"))},{default:s(()=>[...a[7]||(a[7]=[_(" 查看全部 ",-1)])]),_:1})])]),default:s(()=>[t(x,{data:n(d).accounts.slice(0,5),"show-header":!1},{default:s(()=>[t(h,null,{default:s(({row:o})=>[e("div",ft,[t(B,{size:32,src:o.avatar},{default:s(()=>[t(v,null,{default:s(()=>[t(n(w))]),_:1})]),_:1},8,["src"]),e("div",mt,[e("div",pt,l(o.nickname||o.id),1),e("div",vt,"ID: "+l(o.id),1)])])]),_:1}),t(h,{width:"100",align:"right"},{default:s(({row:o})=>[o.connected?(f(),g(y,{key:0,type:"success",size:"small"},{default:s(()=>[...a[9]||(a[9]=[_("运行中",-1)])]),_:1})):(f(),g(y,{key:1,type:"info",size:"small"},{default:s(()=>[...a[10]||(a[10]=[_("已停止",-1)])]),_:1}))]),_:1})]),_:1},8,["data"]),n(d).accounts.length===0?(f(),g(S,{key:0,description:"暂无账号"})):z("",!0)]),_:1})]),_:1}),t(u,{xs:24,lg:12},{default:s(()=>[t(r,null,{header:s(()=>[e("div",ht,[a[12]||(a[12]=e("span",null,"最近订单",-1)),t(E,{type:"primary",link:"",onClick:a[3]||(a[3]=o=>p("/orders"))},{default:s(()=>[...a[11]||(a[11]=[_(" 查看全部 ",-1)])]),_:1})])]),default:s(()=>[t(x,{data:n(m).orders.slice(0,5),"show-header":!1},{default:s(()=>[t(h,null,{default:s(({row:o})=>[e("div",gt,[e("div",yt,l(o.itemTitle||"订单 "+o.orderId.slice(-8)),1),e("div",kt,[e("span",bt,"¥"+l(o.price||"0.00"),1),e("span",Ct,l(o.orderTime),1)])])]),_:1}),t(h,{width:"80",align:"right"},{default:s(({row:o})=>[t(y,{size:"small"},{default:s(()=>[_(l(o.statusText),1)]),_:2},1024)]),_:1})]),_:1},8,["data"]),n(m).orders.length===0?(f(),g(S,{key:0,description:"暂无订单"})):z("",!0)]),_:1})]),_:1})]),_:1})])}}}),Rt=A(Et,[["__scopeId","data-v-3bf75f56"]]);export{Rt as default};
